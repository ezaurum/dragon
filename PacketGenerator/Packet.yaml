#byte_param_constructor : byte[] 를 받는 생성자가 있어서 그걸로 생성
#from_byte_array FromByteArray : 메소드가 있어서 그걸로 변환, 빈 생성자가 있다고 가정
#to_byte_array ToByteArray : 메소드가 있어서 그걸로 변환
#property : 프로퍼티로 설정
#has_instance_length : 인스턴스마다 Length가 설정되어 있음. \
#                      length에 값이 있으면 그걸로 프로퍼티 이름을 삼음 기본값은 Length
#has_type_length : 타입마다 Length가 설정되어 있음. \
#                   length에 값이 있으면 그걸로 프로퍼티 이름을 삼음. 기본값은 Length
#options 에 targets가 있으면 무조건 빈 생성자 있다고 가정

Header :
    comment : 헤더
    fields :
        - type : GameMessageType
          name : MessageType
          cast : Int32

InitializeGame :
    comment : 게임 초기화 정보
    fields :
        - name : FeeBoostedTiles
          type : Int16
          collection : List
          size : 4
        - name : NumberOfPlayers
          type : Int16
        - name : Units
          type : StageUnitInfo
          options : [constructor]
          collection : List
          length : sizeof(Int16)
          size : NumberOfPlayers
          targets :
            - name : gold
              type : Int64
            - name : Order
              type : Int32
            - name : unitColor
              cast : Int32
              type : StageUnitInfo.UNIT_COLOR
            - name : teamGroup
              cast : Int32
              type : StageUnitInfo.TEAM_GROUP
            - name : ControlMode
              type : StageUnitInfo.ControlModeType
              cast : Int32
            - name : Id
              type : Guid
              length : 16
              options : [byte_param_constructor, to_byte_array]

# game play actions
RollMoveDice :
    comment : 클라이언트에서 이동 주사위 굴리기
    fields :
        - name : Pressed
          type : Single
        - name : Odd
          type : Boolean
        - name : Even
          type : Boolean
        - name : Actor
          type : Guid
          length : 16
          options : [byte_param_constructor, to_byte_array, property]

RollMoveDiceResult :
    comment : 서버에서 주사위 굴리기 결과
    fields :
        - name : Dices
          type : Char
          collection : List
          size : 2
        - name : Actor
          type : Guid
          length : 16
          options : [byte_param_constructor, to_byte_array, property]

OrderCardSelect :
    comment : 선 뽑기
    fields :
      - name : SelectedCardNumber
        type : Int16
      - name : NumberOfPlayers
        type : Int16
      - name : OrderCardSelectState
        type : Boolean
        collection : List
        size : NumberOfPlayers
      - name : Actor
        type : Guid
        length : 16
        options : [byte_param_constructor, to_byte_array, property]

OrderCardResult :
    comment : 선 뽑기 결과
    fields :
      - name : FirstCardNumber
        type : Int16
      - type : Guid
        name : FirstPlayerId
        length : 16
        options : [byte_param_constructor, to_byte_array]

InitializePlayer :
  comment : 플레이어 초기화
  fields :
    - type : Guid
      name : Server
      length : 16
      options : [byte_param_constructor, to_byte_array, property]
    - type : Guid
      name : PlayerId
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

ActivateTurn :
  comment : Activate player's turn
  fields :
    - name : TurnOwner
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]
    - name : ResponseLimit
      type : Int32

NothingToDo :
  comment : 할 수 있는게 없을 때
  fields :
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

BuyLandRequest :
  comment : buy lands available
  fields :
    - name : ResponseLimit
      type : Int32
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

BuyLand :
  comment : buy lands
  fields :
    - name : TileIndex
      type : Char
    - name : Buildings
      type : Char
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

OpenOlympic :
  comment : open olympic
  fields :
    - name : TileIndex
      type : Char
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

UseCouponRequest :
  comment : request use chance chance coupon
  fields :
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

UseCoupon :
  comment : use chance chance coupon
  fields :
    - name : Use
      type : Boolean
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

OpenChanceCard :
  comment : open a chance card
  fields :
    - name : CardId
      type : Char
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

ChanceCardGoTo :
  comment : chqnce card move
  fields :
    - name : CardId
      type : Char
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

ChanceCardOrder :
  comment : chance card order
  fields :
    - name : CardId
      type : Char
    - name : Value1
      type : Char
    - name : Value2
      type : Char
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]
    - name : Target
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

ChanceCardBuff :
  comment : chance card buff
  fields :
    - name : CardId
      type : Char
    - name : SelectTile
      type : Char
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

ChanceCardCoupon :
  comment : save the chance card
  fields :
    - name : CardId
      type : Char
    - name : Save
      type : Boolean
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

PayFee :
  comment : pay fee
  fields :
    - name : Fee
      type : Int64
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

TakeoverRequest :
  comment : takeover land available
  fields :
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

Takeover :
  comment : takeover land
  fields :
    - name : Takeover
      type : Boolean
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

Bankrupt :
  comment : Bankrupt
  fields :
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

PrisonAction :
  comment : action in Prison
  fields :
    - name : ActionIndex
      type : Char
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

PrisonActionResult :
  comment : action result in Prison
  fields :
    - name : EscapeResult
      type : Boolean
    - name : EscapeType
      type : Char
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

TravelAction :
  comment : action in Travel
  fields :
    - name : TileIndex
      type : Char
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

NeedMoneyRequest :
  comment : request loan money
  fields :
    - name : NeedMoney
      type : Int64
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

LoanMoney :
  comment : loan money from bank
  fields :
    - name : LoanMoney
      type : Int64
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

SellLands :
  comment : sell lands
  fields :
    - name : LandCount
      type : Char
    - name : LandList
      type : Char
      collection : List
      size : LandCount
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

GambleRequest :
  comment : gamble request
  fields :
    - name : CardList
      type : Char
      collection : List
      size : StageGambleInfo.BASIC_SHOW_COUNT
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

GambleBatting :
  comment : batting
  fields :
    - name : BattingIndex
      type : Char
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

GambleChoice :
  comment : choice
  fields :
    - name : Choice
      type : Char
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

GambleResult :
  comment : gamble result
  fields :
    - name : Choice
      type : Char
    - name : WinCount
      type : Char
    - name : Card
      type : Char
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

GameResult :
  comment : game result
  fields :
    - name : WinTeam
      cast : Int32
      type : StageUnitInfo.TEAM_GROUP
    - name : WinType
      cast : Int32
      type : WinConditionType

ActionResultCopy :
  comment : Client received Player's action result signal

# in waiting room actions
RequestNewWaitingRoom :
  comment : 게임 대기방 생성 요청 (client->server)
  fields :
    - name : BoardType      
      type : Byte    
    - name : PlayMode      
      type : Byte
    - name : PlayType
      type : GamePlayType
      cast : Byte

RequestRandomWaitingRoom :
  comment : 무작위 게임 방 요청 (client->server)
  fields :
    - name : BoardType      
      type : Byte    
    - name : PlayMode      
      type : Byte
    - name : PlayType
      type : GamePlayType
      cast : Byte

AssignWaitingRoom :
  comment : assign waiting room (server->client)
  fields :
    - name : RoomOwner
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

GoToWaitingRoom :
  comment : 지정 게임 방 참가 (client->server)
  fields :
    - type : Guid
      name : GameRoomId
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

WaitingRoomInfo :
    comment : 게임 대기방 초기화 정보 (server->client)
    fields :        
      - name : BoardType      
        type : Byte    
      - name : PlayMode      
        type : Byte
      - name : PlayType
        type : GamePlayType
        cast : Byte
      - name : NumberOfPlayers
        type : Int16  
      - name : CurrentNumberOfPlayers
        type : Int16
      - name : RoomOwner
        type : Guid
        length : 16
        options : [byte_param_constructor, to_byte_array, property]
      - name : Units
        type : StageUnitInfo
        options : [constructor]
        collection : List
        length : sizeof(Int16)
        size : CurrentNumberOfPlayers
        targets :
          - name : teamGroup
            cast : Int32
            type : StageUnitInfo.TEAM_GROUP            
          - name : Id
            type : Guid
            length : 16
            options : [byte_param_constructor, to_byte_array]
          - name : IsReady
            type : Boolean

ExitWaitingRoom :
  comment : Exit waiting room (server->client|client->server)
  fields :
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

AssignRoomOwner :
  comment : change room owner (server->client)
  fields :
    - name : RoomOwner
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

NewPlayerInWaitingRoom :
  comment : 게임 대기방에 사용자 추가 (server->client)
  fields :
    - type : Guid
      name : PlayerId
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

ReadyStateRequest :
  comment : Request ready message (server->client)
  fields :
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]
    - name : ResponseLimit
      type : Int32

ReadyState :
  comment : Indicate Ready or not for game Start (client->server|server->client)
  fields :
    - name : Actor
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]
    - name : Ready
      type : Boolean

EveryoneIsReady :
  comment : Everyone is ready for game start, start request (server->client)
  fields :
    - name : ResponseLimit
      type : Int32

StartGame :
  comment : start game      

# in waiting room actions ends.

#session actions
ValidateSession :
  comment : 세션 키 조회
  fields :
    - type : Guid
      name : SessionKey
      length : 16
      options : [byte_param_constructor, to_byte_array, property]
    - type : Guid
      name : GameRoomId
      length : 16
      options : [byte_param_constructor, to_byte_array, property]
    - type : Guid
      name : GameAccountId
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

RequestSession :
  comment : 세션 키 발급 요청
  fields :
    - type : Guid
      name : GameAccountId
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

Session :
  comment : 세션 키 발급
  fields :
    - type : Guid
      name : SessionKey
      length : 16
      options : [byte_param_constructor, to_byte_array, property]
    - type : Guid
      name : GameRoomId
      length : 16
      options : [byte_param_constructor, to_byte_array, property]
    - type : Guid
      name : GameAccountId
      length : 16
      options : [byte_param_constructor, to_byte_array, property]      

RedirectConnection :
  comment : 세션이 존재하는 경우 연결 리다이렉트
  fields :
    - name : IPAddress
      type : Int32
    - name : Port
      type : Int16
    - type : Guid
      name : SessionKey
      length : 16
      options : [byte_param_constructor, to_byte_array, property]
    - type : Guid
      name : GameRoomId
      length : 16
      options : [byte_param_constructor, to_byte_array, property]


#shop actions

BuyItemInGame :
  comment : Buy a game item in waiting room or game playing. In instance
  fields :
    - name : ItemId
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

BuyItemInGameResult :
  comment : Buy a game item result in waiting room or game playing. In instance.
  fields :
    - name : ItemId
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]
    - name : ItemInstanceId
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]
    - name : Result
      type : Boolean

ReserveItemInGame :
  comment : Reserve to buy a game item in waiting room or game playing.
  fields :
    - name : ItemId
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]

ReserveItemInGameResult :
  comment : Reserve to buy a game item in waiting room or game playing
  fields :
    - name : ItemId
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]
    - name : ItemInstanceId
      type : Guid
      length : 16
      options : [byte_param_constructor, to_byte_array, property]
    - name : Result
      type : Boolean